<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>GTM Single App</title>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="lib/css/bootstrap4.6.1.min.css">
  <!-- jQuery -->
  <script src="lib/scripts/jquery.slim.min.js"></script>
  <!-- Bootstrap JS -->
  <script src="lib/scripts/bootstrap4.6.1.min.js"></script>

  <script>
    function calcluate(){
      var sar_amount_to_send = parseFloat(document.getElementById('sar_amount_to_send').value)
      var sar_to_inr = parseFloat(document.getElementById('sar_to_inr').value)
      var gold_rate_10g_ksa_sar = parseFloat(document.getElementById('gold_rate_10g_ksa_sar').value)
      var gold_rate_10g_ind_inr = parseFloat(document.getElementById('gold_rate_10g_ind_inr').value)

      if (
        isNaN(sar_amount_to_send) || 
        isNaN(sar_to_inr) || 
        isNaN(gold_rate_10g_ksa_sar) || 
        isNaN(gold_rate_10g_ind_inr)
      ){
        alert('Please provide valid input');
        return;
      }

      var gold_weight_possible_per_tola = (sar_amount_to_send / gold_rate_10g_ksa_sar).toFixed(2);
      var purchased_gold_price_in_ind_inr = gold_weight_possible_per_tola * gold_rate_10g_ind_inr;
      var exchanged_amount_sent = sar_amount_to_send * sar_to_inr;

      var output = '<table class="table table-striped">';
      output += '<tr>';
      output += '<td>Gold purchase capacity per 10g</td>';
      output += '<td>'+ gold_weight_possible_per_tola +'</td>';
      output += '</tr>';

      output += '<tr>';
      output += '<td>Gold Purchased Value In IND (INR)</td>';
      output += '<td>'+ purchased_gold_price_in_ind_inr +'</td>';
      output += '</tr>';

      output += '<tr>';
      output += '<td>SAR Sent Amount Value (INR)</td>';
      output += '<td>'+ exchanged_amount_sent +'</td>';
      output += '</tr>';

      output += '<tr>';
      output += '<td>Diff</td>';
      output += '<td>'+(purchased_gold_price_in_ind_inr - exchanged_amount_sent)+'</td>';
      output += '</tr>';
      output += '</table>';

      document.getElementById("output").innerHTML = output;
    }

    function clearForm(){
      document.getElementById('sar_amount_to_send').value = '';
      document.getElementById('sar_to_inr').value = '';
      document.getElementById('gold_rate_10g_ksa_sar').value = '';
      document.getElementById('gold_rate_10g_ind_inr').value = '';
      document.getElementById("output").innerHTML = '';
    }
  </script>
</head>
<body>

<div class="container-fluid">
  <div class="row">

    <!-- Main Content (GTM) -->
    <div class="col-9" id="gtm">
      
      <!-- GTM Card -->
      <div class="card mt-3">
        <div class="card-header">
          GTM
        </div>
        <div class="card-body">

          <div class="row">
            <div class="col-3">&nbsp;</div>
            <div class="col-6">
              
              <div class="form-group row">
                <label for="sar_to_inr">SAR-INR:</label>
                <input type="text" class="form-control" id="sar_to_inr">
              </div>
              
              <div class="form-group row">
                <label for="sar_amount_to_send">Amount to Send (SAR):</label>
                <input type="text" class="form-control" id="sar_amount_to_send">
              </div>
              
              <div class="form-group row">
                <label for="gold_rate_10g_ksa_sar">Gold Rate 10g KSA (SAR):</label>
                <input type="text" class="form-control" id="gold_rate_10g_ksa_sar">
              </div>
              
              <div class="form-group row">
                <label for="gold_rate_10g_ind_inr">Gold Rate 10g IND (INR):</label>
                <input type="text" class="form-control" id="gold_rate_10g_ind_inr">
              </div>

            </div>
            <div class="col-3">&nbsp;</div>
          </div>

        </div>
        <div class="card-footer">
          <button type="button" class="btn btn-primary" onclick="calcluate()">Submit</button>
          <button type="button" class="btn btn-secondary" onclick="clearForm()">Clear</button>
        </div>
      </div>

      <!-- Result Card -->
      <div class="card mt-3">
        <div class="card-header">Result</div>
        <div class="card-body">
          <div class="row">
            <div class="col-3">&nbsp;</div>
            <div class="col-6">
              <div id="output"></div>
            </div>
            <div class="col-3">&nbsp;</div>
          </div>
        </div>
      </div>

    </div>
    <!-- End of Main Content (GTM) -->


    <!-- Right-Side Navigation -->
    <div class="col-3 bg-light">
      <nav class="nav flex-column mt-3">
        <a class="nav-link active" href="#gtm">GTM</a>
        <!-- Add more links here if needed -->
        <!-- <a class="nav-link" href="#someOtherSection">Some Other Section</a> -->
      </nav>
    </div>
    <!-- End of Right-Side Navigation -->

  </div>
</div>

</body>
</html>
